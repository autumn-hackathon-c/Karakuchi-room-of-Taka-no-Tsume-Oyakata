{% extends "base.html" %}

{% block content %}

<div class="header page-title my-4">
    <h2>投票作成</h2>
</div>
<div class="survey-title my-3">
    <h2>{{survey.title}} </h2>
</div>
<div class="deadline my-2">
    <span>投票期限：{{survey.end_at}}</span>
</div>
<div class="discription border border-secondary p-2 my-3">
    {% if survey.description %}
    <p>{{ survey.description }}</p>
    {% else %}
    <p>アンケートの詳細説明はありません</p>
    {% endif %}
</div>
<div class="subheading h4 mt-5">
    <p>あなたはどう思う？</p>
</div>


<form action="" method="post">
    {% csrf_token %}
    {% comment %} 選択肢をradioボタンをfor文で繰り返し表示 {% endcomment %}
    <div class="select-radio p-3">
        <div class="m-3 p-3">
            {% for option in option_list %}
            <div class="form-check mb-2">
                <input class="form-check-input" type="radio" name="option" id="option_{{ option.id }}"
                    value="{{ option.id }}">
                <label class="form-check-label" for="option_{{ option.id }}">
                    {{ option.label }}
                </label>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="comment mt-5 mb-4">
        <label class="form-label" for="{{ form.comment.id_for_label }}">
            <h4>選択肢を選んだ理由（任意）</h4>
        </label>
        {{ form.comment }}
    </div>
    {% comment %} 追加機能 文章加工機能{% endcomment %}
    <!-- AI の結果メッセージ -->
    <div id="ai_result" class="mb-4 text-center"></div>

    <div class="edit-button text-center mb-4">
        <!-- AIで柔らかくするボタン -->
        <button id="ai_soften_btn" type="button" class="btn btn-secondary px-5">
            AIで柔らかくする
        </button>
    </div>

    <div class="submit-btn text-center">
        <button type="submit" class="btn btn-success px-5">投票！</button>
    </div>
</form>
<div class="text-center my-5">
    <a href="{% url 'survey-list'%}">投票作成をキャンセルして戻る</a>
</div>


{% endblock content %}

